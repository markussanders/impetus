(this.webpackJsonpimpetus=this.webpackJsonpimpetus||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),i=n.n(o),s=(n(13),n(1)),c=n(2),u=n(4),l=n(3),m=n(5),h=(n(14),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e)))._isMounted=!1,n.getTime=function(){var e=new Date,t=e.getMinutes();t=1===String(t).length?"0".concat(t):t;var r="".concat(e.getHours(),":").concat(t);n.setState({time:r}),n.props.greet&&n._isMounted&&n.props.greet(r)},n.state={time:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(this.getTime(),setInterval((function(){e.getTime()}),1e3))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return a.a.createElement("h2",{id:"clock"},this.state.time)}}]),t}(a.a.Component)),d=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).greet=function(e){if(!n.state.showMantra){var t=parseInt(e.replace(":","")),r=t<1200?"Good Morning":t>1700?"Good Evening":"Good Afternoon";n.setState({greeting:r})}},n.renderDropdown=function(){return n.state.showMantra?a.a.createElement("ul",{id:"more-options-list"},a.a.createElement("li",{className:"more-options-item",onClick:function(){return n.setState({showMantra:!1,renderDropdown:!1})}},"Hide today's mantra")):a.a.createElement("ul",{id:"more-options-list"},a.a.createElement("li",{className:"more-options-item",onClick:function(){return n.setMantra()}},"Show today's mantra"),a.a.createElement("li",{className:"more-options-item",onClick:function(){n.setState({updateCurrentUser:!n.state.updateCurrentUser})}},"Edit your name"))},n.setMantra=function(){var e=localStorage.getItem("mantra");e?n.setState({greeting:e,showMantra:!0,renderDropdown:!1}):fetch("https://horizonshq.herokuapp.com/api/inspirationalquotes").then((function(e){return e.json()})).then((function(e){localStorage.setItem("mantra",e.message),n.setMantra()}))},n.state={currentUser:localStorage.getItem("user"),greeting:localStorage.getItem("mantra")||"",showMantra:!1,time:"",renderDropdown:!1,isMounted:!1,updateCurrentUser:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"renderGreeting",value:function(){var e=this,t=this.state.greeting;return a.a.createElement("h3",{id:"greeting"}," ",this.state.showMantra?t:"".concat(t,", ").concat(this.state.currentUser,"."),a.a.createElement("button",{id:"more-options",onClick:function(){return e.setState({renderDropdown:!e.state.renderDropdown})}}," \u2022\u2022\u2022 "))}},{key:"renderGreetingWithForm",value:function(){var e=this,t=this.state.greeting;return a.a.createElement("h3",{id:"greeting"}," ","".concat(t,", "),a.a.createElement("form",{id:"underlined-form-user",onSubmit:function(t){t.preventDefault(),e.setState({updateCurrentUser:!1,renderDropdown:!1}),e.props.setUser(e.state.currentUser)}},a.a.createElement("input",{id:"form-input-user",placeholder:this.state.currentUser,onChange:function(t){return e.setState({currentUser:t.target.value})}})),a.a.createElement("button",{id:"more-options",onClick:function(){return e.setState({renderDropdown:!e.state.renderDropdown})}}," \u2022\u2022\u2022 "))}},{key:"render",value:function(){return a.a.createElement("div",{id:"greeting-clock-div"},this.state.isMounted?a.a.createElement(h,{greet:this.greet}):null,this.state.updateCurrentUser?this.renderGreetingWithForm():this.renderGreeting(),this.state.renderDropdown?this.renderDropdown():null)}}]),t}(a.a.Component),p=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={focus:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{id:"focus-form-div"},this.state.tasks?a.a.createElement("p",null,"True"):a.a.createElement("h3",{className:"form-text-header"},"What's your main focus for today?"),a.a.createElement("form",{id:"underlined-form",onSubmit:function(t){t.preventDefault(),e.props.setMainFocus(e.state.focus)}},a.a.createElement("input",{id:"form-input",onChange:function(t){return e.setState({focus:t.target.value})}})))}}]),t}(a.a.Component),f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={completed:!1,mainFocus:n.props.mainFocus},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.mainFocus;return a.a.createElement("div",{id:"focus-div"},a.a.createElement("h4",{className:"focus-text-header"},"TODAY"),a.a.createElement("div",{id:"main-focus-item-div"},a.a.createElement("button",{id:"main-focus-mark-complete",onClick:function(){return e.setState({completed:!e.state.completed})}}),a.a.createElement("h3",{id:this.state.completed?"main-focus-text-completed":"main-focus-text"},t),a.a.createElement("button",{id:"main-focus-delete",onClick:function(){return e.props.setMainFocus("")}},"X")))}}]),t}(a.a.Component),g=function(e){var t="";return a.a.createElement("div",{id:"welcome-screen"},a.a.createElement(h,null),a.a.createElement("form",{id:"underlined-form",onSubmit:function(n){n.preventDefault(),e.setUser(t)}},a.a.createElement("label",{className:"form-text-header"},"Hello, welcome to Impetus. What's your name?"),a.a.createElement("br",null),a.a.createElement("input",{id:"form-input",onChange:function(e){return t=e.target.value}})))},v="http://api.openweathermap.org/data/2.5/weather?q=Chicago,us&appid=65125f4adb812bcb9937ba4b637de4b7",b=JSON.parse(localStorage.getItem("weather")),E=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).fetchWeather=function(){fetch(v).then((function(e){return e.json()})).then((function(e){var t=n.convertToFahrenheit(e.main.temp)+"\xba",r=n.formatDesc(e.weather[0].description),a=e.name;n.setState({location:a,temp:t,weatherDesc:r})}))},n.convertToFahrenheit=function(e){return Math.floor(9*(e-273.15)/5+32)},n.formatDesc=function(e){return e.split(" ").map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" ")},n.state={location:"",temp:"",weatherDesc:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){b?this.setState(b):this.fetchWeather()}},{key:"render",value:function(){return a.a.createElement("div",{id:"weather-div"},a.a.createElement("h2",{id:"weather-temp"},this.state.temp),a.a.createElement("h3",{id:"weather-location"},this.state.location),a.a.createElement("h4",{id:"weather-desc"},this.state.weatherDesc))}}]),t}(a.a.Component),w="https://api.unsplash.com/photos/random/?client_id=baf5fb44732fcb83d8c6d37602e28058642c845445f15ae70c3a1eb7bd80f547",j=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={photographer:"",imgUrl:""},n.getPhoto=function(){fetch(w).then((function(e){return e.json()})).then((function(e){localStorage.setItem("backgroundUrl",e.urls.full),n.setState({imgUrl:e.urls.full,photographer:e.user.name})}))},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getPhoto()}},{key:"render",value:function(){return a.a.createElement("img",{src:this.state.imgUrl,alt:"Background image photographed by ".concat(this.state.photographer)})}}]),t}(a.a.Component),U=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={currentUser:"",mainFocus:"",promptUserName:!1},n.retreiveUser=function(){var e=localStorage.getItem("user");e?n.setState({currentUser:e}):n.setState({promptUserName:!0})},n.setUser=function(e){localStorage.setItem("user",e),n.setState({currentUser:e,promptUserName:!1})},n.promptUserName=function(){n.setState({promptUserName:!n.state.promptUserName})},n.setMainFocus=function(e){n.setState({mainFocus:e})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.retreiveUser()}},{key:"renderFocusForm",value:function(){return this.state.promptUserName?null:this.state.mainFocus?a.a.createElement(f,{mainFocus:this.state.mainFocus,setMainFocus:this.setMainFocus}):a.a.createElement(p,{setMainFocus:this.setMainFocus})}},{key:"render",value:function(){return a.a.createElement("div",{id:"app"},a.a.createElement("div",{id:"sub-container"},a.a.createElement(j,null),a.a.createElement(E,null)),a.a.createElement("div",{id:"top-container"},this.state.promptUserName?a.a.createElement(g,{setUser:this.setUser}):a.a.createElement(d,{currentUser:this.state.currentUser,setUser:this.setUser}),this.renderFocusForm()))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.8a8e1f03.chunk.js.map